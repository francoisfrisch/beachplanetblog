montageDefine("8d02820","runtime/scene-resource-loader",{dependencies:["runtime/resource-loader","runtime/mesh-resource-loader"],factory:function(e,t){var i=e("runtime/resource-loader").ResourceLoader,n=e("runtime/mesh-resource-loader").MeshResourceLoader;t.SceneResourceLoader=Object.create(i,{_scene:{value:null,writable:!0},scene:{get:function(){return this._scene},set:function(e){this._scene=e}},meshesDidLoad:{value:function(){this.delegate&&this.delegate.sceneResourcesDidPrepare(this.scene)}},loadScene:{value:function(){var e=this;if(this.scene){var t=this.scene.rootNode,i={},r=[];t.apply(function(e){return e.meshes&&e.meshes.length&&e.meshes.forEach(function(e){null==i[e.id]&&(r.push(e),i[e.id]=e)},this),null},!0,null);var s=Object.create(n).init(r,e.webGLRenderer,this);s.loadMeshes()}}},init:{value:function(e,t,i){return i&&(this.delegate=i),this.webGLRenderer=t,this.scene=e,t.resourceManager.observers.push(this),this}}})}});