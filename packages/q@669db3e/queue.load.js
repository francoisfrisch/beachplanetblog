montageDefine("669db3e","queue",{dependencies:["./q"],factory:function(e,t,i){function n(){var e=r.defer(),t=r.defer();return{put:function(t){var i=r.defer();e.resolve({head:t,tail:i.promise}),e.resolve=i.resolve},get:function(){var i=e.promise.get("head");return e.promise=e.promise.get("tail"),i.fail(function(e){throw t.resolve(e),e})},closed:t.promise,close:function(i){i=i||Error("Can't get value from closed queue");var n={head:r.reject(i)};return n.tail=n,e.resolve(n),t.promise}}}var r=e("./q");i.exports=n}});